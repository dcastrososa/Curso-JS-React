(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(347)},182:function(e,t,a){},184:function(e,t,a){},230:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(7),i=a.n(l),o=(a(182),a(29)),c=a(35),s=a(44),u=a(42),d=a(43),h=(a(184),a(361)),m=a(349),p=a(357),b=a(60),E=a(15),v=a(352),f=a(351),g=a(354),y=a(10),O=a(37),C=a(359),j=a(358),S=a(63),k=a(162),w=a(355),x=function(e,t){return Object(k.a)({},e,t)},V=function(e){return""!==e.trim("")},N=function(e){w.a.success(e)},D=function(e){w.a.error(e)},I=function(e,t){var a=-1;if(t.forEach(function(t,n){t.key!==e||(a=n)}),-1===a)throw"No existe este carro en el arreglo.";return a},A=function(e){var t=document.all?e.keyCode:e.which;if(13==t||8==t)return!0;var a=String.fromCharCode(t),n=/[1234567890\d]/.test(a);return n||e.preventDefault(),n},T=new(function(){function e(){Object(o.a)(this,e),this.user="phinxlab",this.pass="abc123",this.cars=[{id:1,brand:"ferrari",year:"1950",madein:"italia",maxspeed:"150",description:"Ultimo modelo",colors:"Amarillo / Azul / Rojo / Verde / Negro / Blanco",ports:4,status:1},{id:2,brand:"porche",year:"1988",madein:"alemania",maxspeed:"154",description:"Ultimo modelo",colors:"Amarillo / Azul / Rojo / Verde / Negro / Blanco",ports:4,status:1},{id:3,brand:"subaru",year:"1977",madein:"japon",maxspeed:"120",description:"Ultimo modelo",colors:"Amarillo / Azul / Rojo / Verde / Negro / Blanco",ports:4,status:1}]}return Object(c.a)(e,[{key:"getCars",value:function(){return this.cars}},{key:"insertCar",value:function(e){return this.cars.push(e)}}]),e}()),H=(a(230),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={user:"phinxlab",pass:"abc123",errors:[]},a.handleSubmit=a.handleSubmit.bind(Object(E.a)(Object(E.a)(a))),a.inputChangeHandler=a.inputChangeHandler.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"inputChangeHandler",value:function(e){var t=e.target.name;this.setState(Object(b.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={user:this.state.user,pass:this.state.pass},a=function(e){var t=!0,a=[];return V(e.user)||(a.push("Por favor introduzca el nombre de usuario."),t=!1),V(e.pass)||(a.push("Por favor introduzca la contrasena"),t=!1),{valid:t,errors:a}}(t);if(a.valid){this.setState({errors:[]});var n=function(e){var t=!0,a=[];return T.user!==e.user&&(a.push("Usuario incorrecto"),t=!1),T.pass!==e.pass&&(a.push("Contrasena incorrecta"),t=!1),{valid:t,errors:a}}(t);n.valid?(this.props.onSetSesion(),this.props.onSetRedirect(!0),this.props.history.push("/vehicles"),this.props.onSetRedirect(!1)):this.setState({errors:n.errors})}else this.setState({errors:a.errors})}},{key:"render",value:function(){var e=this.state,t=e.errors,a=e.user,n=e.pass;return r.a.createElement("div",{className:"containerLogin"},r.a.createElement(v.a,{className:"cardLogin"},r.a.createElement("p",{className:"titleLogin"},"ACCOUNT LOGIN"),r.a.createElement(f.a,{onSubmit:this.handleSubmit,className:"login-form",id:"components-form-demo-normal-login"},r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",name:"user",value:a,onChange:this.inputChangeHandler})),r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{prefix:r.a.createElement(y.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",name:"pass",placeholder:"Password",value:n,onChange:this.inputChangeHandler})),r.a.createElement(f.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))),r.a.createElement("br",null),t.map(function(e,t){return r.a.createElement(C.a,{key:t,message:"Error",description:e,type:"error"})}))}}]),t}(r.a.Component)),F=Object(j.a)(Object(S.b)(function(e){return{redirect:e.auth.redirect}},function(e){return{onSetSesion:function(){return e({type:"SET_SESION"})},onSetRedirect:function(t){return e(function(e){return{type:"SET_REDIRECT",value:e}}(t))}}})(H)),R=a(129),_=a(350),L=a(348),B=a(353),P=a(234),U=function(e){var t=e.vehicle;return r.a.createElement(P.a,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Marca:")," ",r.a.createElement("span",null,t.brand)),r.a.createElement("p",null,r.a.createElement("strong",null,"A\xf1o:")," ",r.a.createElement("span",null,t.year)),r.a.createElement("p",null,r.a.createElement("strong",null,"Origen:")," ",r.a.createElement("span",null,t.madein)),r.a.createElement("p",null,r.a.createElement("strong",null,"Velocidad m\xe1xima:")," ",r.a.createElement("span",null,t.maxspeed)),r.a.createElement("p",null,r.a.createElement("strong",null,"Estado:")," ",r.a.createElement("span",null,1===t.status?"Activo":"Inactivo")),r.a.createElement("p",null,r.a.createElement("strong",null,"Descripcion:")," ",r.a.createElement("span",null,t.description)),r.a.createElement("p",null,r.a.createElement("strong",null,"Colores disponibles:")," ",r.a.createElement("span",null,t.colors)),r.a.createElement("p",null,r.a.createElement("strong",null,"Cantidad de puertas:")," ",r.a.createElement("span",null,t.ports)))},z=a(360),K=function(e){A(e)&&4===e.target.value.length&&e.preventDefault()},M=function e(){var t=this;Object(o.a)(this,e),this.addTag=function(e){-1===t.tags.indexOf(e)&&t.tags.push(e)},this.removeTag=function(e){var a=t.tags.indexOf(e);t.tags.splice(a,1)},this.getTag=function(){return t.tags},this.existTag=function(e){return-1!==t.tags.indexOf(e)},this.tags=new Array},G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).colors=new M,a.state={brand:"",year:"",madein:"",maxspeed:"",description:"",color:"",ports:"",errors:[]},a.inputChangeHandler=a.inputChangeHandler.bind(Object(E.a)(Object(E.a)(a))),a.addColor=a.addColor.bind(Object(E.a)(Object(E.a)(a))),a.keyAddColor=a.keyAddColor.bind(Object(E.a)(Object(E.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"inputChangeHandler",value:function(e){var t=e.target.name;this.setState(Object(b.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={brand:this.state.brand,year:this.state.year,madein:this.state.madein,maxspeed:this.state.maxspeed,description:this.state.description,colors:this.colors.getTag().join(" / "),ports:this.state.ports,status:1},a=function(e){var t=!0,a=[];return V(e.brand)?V(e.year)?V(e.madein)?V(e.maxspeed)&&V(e.description)?V(e.colors)?V(e.ports)||(a.push("La cantidad de puertas no puede estar en blanco"),t=!1):(a.push("Debe agregar al menos 1 color"),t=!1):(a.push("La descripcion del vehiculo no puede estar en blanco"),t=!1):(a.push("El origen del vehiculo no puede estar en blanco"),t=!1):(a.push("El ano del vehiculo no puede estar en blanco"),t=!1):(a.push("La marca del vehiculo no puede estar en blanco"),t=!1),{valid:t,errors:a}}(t);a.valid?(T.insertCar(t),this.props.onSave()):this.setState({errors:a.errors})}},{key:"addColor",value:function(){this.colors.addTag(this.state.color),this.setState({color:""})}},{key:"keyAddColor",value:function(e){if(13===e.which){if(e.preventDefault(),this.colors.existTag(this.state.color))return;this.addColor()}}},{key:"render",value:function(){var e=this.state,t=e.brand,a=e.year,n=e.madein,l=e.maxspeed,i=e.description,o=e.color,c=e.ports,s=e.errors,u=this.colors.getTag();return r.a.createElement(v.a,null,r.a.createElement(f.a,{className:"login-form",id:"components-form-demo-normal-login"},r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{placeholder:"Brand",name:"brand",value:t,onChange:this.inputChangeHandler})),r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{placeholder:"Year",name:"year",value:a,onChange:this.inputChangeHandler,onKeyPress:K})),r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{placeholder:"Origen",name:"madein",value:n,onChange:this.inputChangeHandler})),r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{placeholder:"Velocidad maxima (Km)",name:"maxspeed",value:l,onChange:this.inputChangeHandler})),r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{placeholder:"Descripcion",name:"description",value:i,onChange:this.inputChangeHandler})),r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{placeholder:"Escriba un color y presione enter",name:"color",value:o,onChange:this.inputChangeHandler,onKeyPress:this.keyAddColor}),u.map(function(e,t){return r.a.createElement(z.a,{closable:!0,key:t},e)})),r.a.createElement(f.a.Item,null,r.a.createElement(g.a,{placeholder:"Cantidad de puertas",name:"ports",value:c,onChange:this.inputChangeHandler,onKeyPress:A})),s.map(function(e,t){return r.a.createElement(C.a,{key:t,message:"Error",description:e,type:"error"})}),r.a.createElement("br",null),r.a.createElement(f.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSubmit},"Guardar"))))}}]),t}(r.a.Component),J=_.a.Column,Y=_.a.ColumnGroup,W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={cars:[],showFormNewVehicle:!1,showDetailVehicle:!1,vehicleCurrent:{}},a.orderCars=a.orderCars.bind(Object(E.a)(Object(E.a)(a))),a.delete=a.delete.bind(Object(E.a)(Object(E.a)(a))),a.switchFormNewVehicle=a.switchFormNewVehicle.bind(Object(E.a)(Object(E.a)(a))),a.switchDetailVehicle=a.switchDetailVehicle.bind(Object(E.a)(Object(E.a)(a))),a.updateStatus=a.updateStatus.bind(Object(E.a)(Object(E.a)(a))),a.vehicleSaved=a.vehicleSaved.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.orderCars()}},{key:"orderCars",value:function(){var e=[];T.getCars().forEach(function(t,a){t.key=t.id,e.push(t)}),this.setState({cars:e})}},{key:"updateStatus",value:function(e,t){var a=Object(R.a)(this.state.cars);try{a[I(e,a)].status=t,this.setState({cars:a}),N("El vehiculo ha sido ".concat(1===t?"Activado":"Desactivado"))}catch(n){D("Vaya ;(, algo salio mal")}}},{key:"delete",value:function(e){var t=Object(R.a)(this.state.cars);try{var a=I(e,t);t.splice(a,1),this.setState({cars:t}),N("El vehiculo ha sido eliminado de la lista.")}catch(n){D("Vaya ;(, algo salio mal")}}},{key:"vehicleSaved",value:function(){this.switchFormNewVehicle(),this.orderCars(),N("Se ha agregado un nuevo vehiculo a la lista.")}},{key:"switchFormNewVehicle",value:function(){this.setState({showFormNewVehicle:!this.state.showFormNewVehicle})}},{key:"switchDetailVehicle",value:function(e){this.setState({showDetailVehicle:!this.state.showDetailVehicle,vehicleCurrent:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.vehicleCurrent,n=t.showFormNewVehicle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{dataSource:this.state.cars},r.a.createElement(Y,{title:"Cars"},r.a.createElement(J,{title:"Brand",dataIndex:"brand",key:"brand"}),r.a.createElement(J,{title:"Year",dataIndex:"year",key:"year"}),r.a.createElement(J,{title:"Origen",dataIndex:"madein",key:"madein"}),r.a.createElement(J,{title:"Velocidad m\xe1xima",key:"maxspeed",render:function(e){return"".concat(e.maxspeed," km")}}),r.a.createElement(J,{title:"Estado",key:"status",render:function(e){return 1===e.status?"Activo":"Inactivo"}})),r.a.createElement(J,{render:function(t){return r.a.createElement(O.a,{onClick:e.switchDetailVehicle.bind(e,t)},"Ver detalles")}}),r.a.createElement(J,{render:function(t){return 0===t.status?r.a.createElement(O.a,{type:"primary",onClick:e.updateStatus.bind(e,t.key,1)},"Activar"):r.a.createElement(O.a,{type:"danger",onClick:e.updateStatus.bind(e,t.key,0)},"Desactivar")}}),r.a.createElement(J,{render:function(t){return r.a.createElement(L.a,{title:"Esta seguro de eliminar este vehiculo de la lista?",okText:"Yes",cancelText:"No",onConfirm:e.delete.bind(e,t.key)},r.a.createElement(O.a,{type:"danger"},"Eliminar"))}})),r.a.createElement(O.a,{onClick:this.switchFormNewVehicle},"Crear Vehiculo"),r.a.createElement(B.a,{title:"Nuevo Vehiculo",visible:n,onOk:this.handleOk,onCancel:this.switchFormNewVehicle},r.a.createElement(G,{onSave:this.vehicleSaved})),r.a.createElement(B.a,{title:"Detalles",visible:this.state.showDetailVehicle,onOk:this.switchDetailVehicle.bind(this,{}),onCancel:this.switchDetailVehicle.bind(this,{})},r.a.createElement(U,{vehicle:a})))}}]),t}(r.a.Component),X=function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,{path:"/vehicles",component:W}),r.a.createElement(m.a,{path:"/",component:F,exact:!0}),r.a.createElement(p.a,{to:"/"}))},$=function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,{path:"/",component:F,exact:!0}),r.a.createElement(p.a,{to:"/"}))},q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isAuthenticated?r.a.createElement(X,null):r.a.createElement($,null))}}]),t}(r.a.Component),Q=Object(S.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(q),Z=a(356),ee=a(52),te=a(174),ae={isAuthenticated:!1,redirect:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SESION":return function(e,t){return x(e,{isAuthenticated:!0})}(e);case"SET_REDIRECT":return function(e,t){return x(e,{redirect:!1})}(e);default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,le=Object(ee.c)({auth:ne}),ie=Object(ee.e)(le,re(Object(ee.a)(te.a))),oe=r.a.createElement(S.a,{store:ie},r.a.createElement(Z.a,{basename:"/Curso-JS-React/build/"},r.a.createElement(Q,null)));i.a.render(oe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,2,1]]]);
//# sourceMappingURL=main.ee01eb7e.chunk.js.map