{"ast":null,"code":"import _defineProperty from \"/var/www/html/Curso-JS-React/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/var/www/html/Curso-JS-React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/Curso-JS-React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/Curso-JS-React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/Curso-JS-React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/Curso-JS-React/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/Curso-JS-React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/Curso-JS-React/src/Containers/Login/Login.js\";\nimport React from 'react';\nimport { Form, Icon, Input, Button, Alert, Layout } from 'antd';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from './../../store/actions/index';\nimport { validation, validateData } from './validations';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      user: 'phinxlab',\n      pass: 'abc123',\n      errors: []\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.inputChangeHandler = _this.inputChangeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"inputChangeHandler\",\n    value: function inputChangeHandler(event) {\n      var name = event.target.name;\n      this.setState(_defineProperty({}, name, event.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var data = {\n        user: this.state.user,\n        pass: this.state.pass\n      };\n      var valid = validation(data);\n\n      if (!valid.valid) {\n        this.setState({\n          errors: valid.errors\n        });\n        return;\n      }\n\n      this.setState({\n        errors: []\n      });\n      var validData = validateData(data);\n\n      if (!validData.valid) {\n        this.setState({\n          errors: validData.errors\n        });\n        return;\n      }\n\n      this.props.onSetSesion();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/vehicles\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      }\n\n      var _this$state = this.state,\n          errors = _this$state.errors,\n          user = _this$state.user,\n          pass = _this$state.pass;\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        className: \"login-form\",\n        id: \"components-form-demo-normal-login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Input, {\n        prefix: React.createElement(Icon, {\n          type: \"user\",\n          style: {\n            color: 'rgba(0,0,0,.25)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }),\n        placeholder: \"Username\",\n        name: \"user\",\n        value: user,\n        onChange: this.inputChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Input, {\n        prefix: React.createElement(Icon, {\n          type: \"lock\",\n          style: {\n            color: 'rgba(0,0,0,.25)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }),\n        type: \"password\",\n        name: \"pass\",\n        placeholder: \"Password\",\n        value: pass,\n        onChange: this.inputChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Log in\"))), errors.map(function (error, i) {\n        return React.createElement(Alert, {\n          key: i,\n          message: \"Error\",\n          description: error,\n          type: \"error\",\n          closable: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onSetSesion: function onSetSesion() {\n      return dispatch(actions.setSesion());\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    redirect: state.auth.redirect\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/var/www/html/Curso-JS-React/src/Containers/Login/Login.js"],"names":["React","Form","Icon","Input","Button","Alert","Layout","Redirect","connect","actions","validation","validateData","Login","props","state","user","pass","errors","handleSubmit","bind","inputChangeHandler","event","name","target","setState","value","e","preventDefault","data","valid","validData","onSetSesion","redirect","color","map","error","i","Component","mapDispatchToProps","dispatch","setSesion","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Form, Icon, Input, Button, Alert, Layout\n} from 'antd';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from './../../store/actions/index';\nimport { validation, validateData } from './validations';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: 'phinxlab',\n      pass: 'abc123',\n      errors: []\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.inputChangeHandler = this.inputChangeHandler.bind(this);\n  }\n\n  inputChangeHandler(event) {\n    const name = event.target.name;\n    this.setState({[name]: event.target.value})\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const data = {user: this.state.user, pass: this.state.pass}\n    const valid = validation(data); \n\n    if (!valid.valid) {\n      this.setState({errors: valid.errors})\n      return;\n    }\n\n    this.setState({errors: []});\n\n    const validData = validateData(data);\n\n    if (!validData.valid) {\n      this.setState({errors: validData.errors})\n      return;\n    }\n\n    this.props.onSetSesion();\n  }\n\n  render() {\n    if (this.props.redirect) { return (<Redirect to=\"/vehicles\" />) }\n\n    const {errors, user, pass} = this.state;\n\n    return(\n      <Layout>\n        <Form onSubmit={this.handleSubmit} className=\"login-form\" id=\"components-form-demo-normal-login\">\n          <Form.Item>\n            <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Username\" name=\"user\" value={user} onChange={this.inputChangeHandler} />\n          </Form.Item>\n          <Form.Item>\n            <Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" name=\"pass\" placeholder=\"Password\" value={pass} onChange={this.inputChangeHandler} />\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n              Log in\n            </Button>\n          </Form.Item>\n        </Form>\n\n        {errors.map((error, i) => (\n          <Alert\n            key={i}\n            message=\"Error\"\n            description={error}\n            type=\"error\"\n            closable\n          />\n        ))}\n      </Layout>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetSesion: () => dispatch(actions.setSesion())\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    redirect: state.auth.redirect\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}